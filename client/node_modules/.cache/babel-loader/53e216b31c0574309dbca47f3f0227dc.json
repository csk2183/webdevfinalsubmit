{"ast":null,"code":"// Main.jsx\nimport React,{useState,useEffect}from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import Note from\"./Note\";import AddNoteForm from\"./AddNoteForm\";import axios from\"axios\";// Import axios for making HTTP requests\nfunction Main(){const[notes,setNotes]=useState([]);useEffect(()=>{// Fetch initial notes from the backend when the component mounts\nfetchNotes();},[]);const fetchNotes=async()=>{try{// Send a GET request to fetch notes from the backend\nconst response=await axios.get(\"/notes\");setNotes(response.data);// Update state with fetched notes\n}catch(error){console.error(\"Error fetching notes:\",error);}};const handleAddNote=newNote=>{setNotes([...notes,{_id:newNote._id,// Use the MongoDB generated ID\ntitle:newNote.title,content:newNote.content}]);};const handleDeleteNote=async id=>{try{// Send a DELETE request to the backend to delete the note\nawait axios.delete(\"/notes/\".concat(id));// Update state to remove the deleted note\nsetNotes(prevNotes=>prevNotes.filter(note=>note._id!==id));}catch(error){console.error(\"Error deleting note:\",error);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"notes-container\"},notes.map(note=>/*#__PURE__*/React.createElement(Note,{key:note._id// Use the MongoDB generated ID as the key\n,id:note._id,title:note.title,content:note.content,onDelete:handleDeleteNote}))),/*#__PURE__*/React.createElement(AddNoteForm,{onAddNote:handleAddNote}),/*#__PURE__*/React.createElement(Footer,null));}export default Main;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","Note","AddNoteForm","axios","Main","notes","setNotes","fetchNotes","response","get","data","error","console","handleAddNote","newNote","_id","title","content","handleDeleteNote","id","delete","concat","prevNotes","filter","note","createElement","className","map","key","onDelete","onAddNote"],"sources":["/Users/changkim/Desktop/tester/client/src/components/Main.jsx"],"sourcesContent":["// Main.jsx\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport AddNoteForm from \"./AddNoteForm\";\nimport axios from \"axios\"; // Import axios for making HTTP requests\n\nfunction Main() {\n  const [notes, setNotes] = useState([]);\n\n  useEffect(() => {\n    // Fetch initial notes from the backend when the component mounts\n    fetchNotes();\n  }, []);\n\n  const fetchNotes = async () => {\n    try {\n      // Send a GET request to fetch notes from the backend\n      const response = await axios.get(\"/notes\");\n      setNotes(response.data); // Update state with fetched notes\n    } catch (error) {\n      console.error(\"Error fetching notes:\", error);\n    }\n  };\n\n  const handleAddNote = (newNote) => {\n    setNotes([\n      ...notes,\n      {\n        _id: newNote._id, // Use the MongoDB generated ID\n        title: newNote.title,\n        content: newNote.content,\n      },\n    ]);\n  };\n\n  const handleDeleteNote = async (id) => {\n    try {\n      // Send a DELETE request to the backend to delete the note\n      await axios.delete(`/notes/${id}`);\n      // Update state to remove the deleted note\n      setNotes((prevNotes) => prevNotes.filter((note) => note._id !== id));\n    } catch (error) {\n      console.error(\"Error deleting note:\", error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"notes-container\">\n        {notes.map((note) => (\n          <Note\n            key={note._id} // Use the MongoDB generated ID as the key\n            id={note._id}\n            title={note.title}\n            content={note.content}\n            onDelete={handleDeleteNote}\n          />\n        ))}\n      </div>\n      <AddNoteForm onAddNote={handleAddNote} />\n      <Footer />\n    </div>\n  );\n}\n\nexport default Main;\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAE;AAE3B,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd;AACAS,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACM,GAAG,CAAC,QAAQ,CAAC,CAC1CH,QAAQ,CAACE,QAAQ,CAACE,IAAI,CAAC,CAAE;AAC3B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAE,aAAa,CAAIC,OAAO,EAAK,CACjCR,QAAQ,CAAC,CACP,GAAGD,KAAK,CACR,CACEU,GAAG,CAAED,OAAO,CAACC,GAAG,CAAE;AAClBC,KAAK,CAAEF,OAAO,CAACE,KAAK,CACpBC,OAAO,CAAEH,OAAO,CAACG,OACnB,CAAC,CACF,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAO,CAAAC,EAAE,EAAK,CACrC,GAAI,CACF;AACA,KAAM,CAAAhB,KAAK,CAACiB,MAAM,WAAAC,MAAA,CAAWF,EAAE,CAAE,CAAC,CAClC;AACAb,QAAQ,CAAEgB,SAAS,EAAKA,SAAS,CAACC,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACT,GAAG,GAAKI,EAAE,CAAC,CAAC,CACtE,CAAE,MAAOR,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,mBACEf,KAAA,CAAA6B,aAAA,QAAKC,SAAS,CAAC,KAAK,eAClB9B,KAAA,CAAA6B,aAAA,CAAC1B,MAAM,KAAE,CAAC,cACVH,KAAA,CAAA6B,aAAA,QAAKC,SAAS,CAAC,iBAAiB,EAC7BrB,KAAK,CAACsB,GAAG,CAAEH,IAAI,eACd5B,KAAA,CAAA6B,aAAA,CAACxB,IAAI,EACH2B,GAAG,CAAEJ,IAAI,CAACT,GAAK;AAAA,CACfI,EAAE,CAAEK,IAAI,CAACT,GAAI,CACbC,KAAK,CAAEQ,IAAI,CAACR,KAAM,CAClBC,OAAO,CAAEO,IAAI,CAACP,OAAQ,CACtBY,QAAQ,CAAEX,gBAAiB,CAC5B,CACF,CACE,CAAC,cACNtB,KAAA,CAAA6B,aAAA,CAACvB,WAAW,EAAC4B,SAAS,CAAEjB,aAAc,CAAE,CAAC,cACzCjB,KAAA,CAAA6B,aAAA,CAACzB,MAAM,KAAE,CACN,CAAC,CAEV,CAEA,cAAe,CAAAI,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module"}